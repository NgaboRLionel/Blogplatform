@model IEnumerable<BlogPl.Models.Blog>

@{
    ViewBag.Title = "Home Page";
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.4.1.js"></script>
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <style>
        .carousel-inner {
            height: 400px !important;
        }

            .carousel-inner img {
                height: 100%;
                width: 100%;
                object-fit: cover;
            }

            .carousel-inner .carousel-text {
                background: rgba(255,255,255,0.9);
                padding: 30px;
                border-radius: 10px;
            }

            .carousel-inner .carousel-text {
                position: absolute;
                top: 100px;
                left: 50%;
                transform: translateX(-50%);
                /*color:#fff;*/
            }

                .carousel-inner .carousel-text h3 {
                    font-size: 5rem;
                }

                .carousel-inner .carousel-text p {
                    font-size: 3rem;
                }

        .blogs h2 .underline {
            width: 45px;
            height: 4px;
            border-radius: 10px;
            margin-top: 5px;
            margin-bottom: 30px;
            background: #0d6efd;
        }

        .card {
            padding: 5px 10px;
            padding-bottom: 25px;
            border-radius: 10px;
            background: #f0f0f0;
            margin-bottom: 30px;
        }

        .carousel-indicators li {
            height: 30px;
            width: 30px;
            border-radius: 50%;
            border: 2px solid #0d6efd;
        }

            .carousel-indicators li.active {
                background: #0d6efd;
                height: 30px;
                width: 30px;
                border-radius: 50%;
            }
            .img-box {
                width:330px;
                height:250px;
            }
            .img-box img {
                width:100%;
                height:100%;
                object-fit:cover;
            }
        /*.carousel-control span.glyphicon {
            background: red;
        }*/
        
    </style>
</head>
<body>

    <section class="banner">
        <div id="myCarousel" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>

            <!-- Wrapper for slides -->
            <div class="carousel-inner">
                <div class="item active">
                    @*<img src="" alt="Slide 1">*@
                    <div class="carousel-text">
                        <h3>Welcome To</h3>
                        <p>Blog Platform</p>
                    </div>
                    <img src="~/Images/i1.jpg" class="" alt="image 1" style="" />

                </div>

                <div class="item">
                    @*<img src="img/slide2.jpg" alt="Slide 2">*@
                    <div class="carousel-text">
                        <h3>View Shared</h3>
                        <p>Blogs</p>
                    </div>
                    <img src="~/Images/jkjk-min.jpg" alt="image 2" />

                </div>

                <div class="item">
                    @*<img src="img/slide3.jpg" alt="Slide 3">*@
                    <div class="carousel-text">
                        <h3>Publish Your</h3>
                        <p>Own Blogs</p>
                    </div>
                    <img src="~/Images/i3.jpg" alt="image 3" />

                </div>
            </div>

            <!-- Left and right controls -->
            <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" "></span>
                <span class="sr-only" style="background:red">Next</span>
            </a>
        </div>
    </section>

    <section>

        <div class="jumbotron">
            <div class="container">
                <h1>Welcome to blog platform</h1>
                <p>
                    Overall, our blog platform provides a simple and convenient way for anyone to share their ideas, opinions, and expertise with the world through blogging.
                </p>
                <p><a href="Home/About" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>
                <div>

                </div>
            </div>
        </div>
        <div class="" style=""></div>
        <div class="container blogs">
            <div class="container">
                <h2 class="">
                    Blogs
                    <div class="underline"></div>
                </h2>
            </div>
            <div class="row container">
                @*@{
                        for (int i = 1; i <= 10; i++)
                        {
                            <div class="col-md-4">
                                <div class="card ">
                                    <div class="card-header">
                                        <h3>Blog Title @i</h3>
                                    </div>
                                    <div class="card-body">

                                        <p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>

                                    </div>
                                    <div class="card-footer">
                                        <p><a class="btn btn-primary" href="https://go.microsoft.com/fwlink/?LinkId=301866">Read more &raquo;</a></p>
                                    </div>
                                </div>
                            </div>
                        }
                    }*@

                @if (Model.Any())
                {

                    <div>
                        @foreach (var item in Model.Where(i => !string.IsNullOrEmpty(i.owner)))
                        {
                            <div class="col-md-4">
                                <div class="card ">
                                    <div class="card-header">
                                       

                                    </div>
                                    <div class="card-body">
                                        @{
                                            // Get the string value from the model
                                            string imageUrlsString = item.imagesUrl;

                                            // Split the string into a list of image URLs
                                            List<string> imageUrlsList = new List<string>();
                                            if (!string.IsNullOrEmpty(imageUrlsString))
                                            {
                                                imageUrlsList = imageUrlsString.Split(new char[] { ',' }, StringSplitOptions.RemoveEmptyEntries).ToList();
                                            }
                                        }

                                        @if (imageUrlsList.Any())
                                        {
                                                <div class="img-box">
                                                    <img class="img-responsive img-rounded" src="@imageUrlsList[0]" alt="image" />
                                                </div>
                                            
                                        }
                                        <p><a> By @Html.DisplayFor(modelItem => item.owner)</a></p>
                                        <h3>@Html.DisplayFor(modelItem => item.title) </h3>
                                        <p>
                                            @if (!string.IsNullOrEmpty(item.description))
                                            {
                                                @(item.description.Length > 110 ? item.description.Substring(0, 110) + " ..." : item.description)
                                            }
                                        </p>

                                    </div>
                                    <div class="card-footer">
                                        @Html.ActionLink("Read More", "Details", new { id = item.id }, new { @class = "btn btn-primary" })

                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                }
                else
                {
                    <h3>Sorry, No blogs published yet !!</h3>

                }



                @*<div class="col-md-4">
                        <div class="card ">
                            <div class="card-header">
                                <h3>Card Header</h3>
                            </div>
                            <div class="card-body">

                                <p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>

                            </div>
                            <div class="card-footer">
                                <p><a class="btn btn-primary" href="https://go.microsoft.com/fwlink/?LinkId=301866">Read more &raquo;</a></p>
                            </div>
                        </div>
                    </div>*@
                @*<div class="col-md-4">
                        <div class="card ">
                            <div class="card-header">
                                <h3>Card Header</h3>
                            </div>
                            <div class="card-body">

                                <p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>

                            </div>
                            <div class="card-footer">
                                <p><a class="btn btn-primary" href="https://go.microsoft.com/fwlink/?LinkId=301866">Read more &raquo;</a></p>
                            </div>
                        </div>
                    </div>*@
            </div>
        </div>

    </section>
</body>
</html>